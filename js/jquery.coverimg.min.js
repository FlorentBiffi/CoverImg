(function(e){e.fn.coverImg=function(t){var n={type:"img",fullscreen:!0,imgWidth:null,imgHeight:null,smartresize:!1},r=e.extend(n,t);return this.each(function(){function n(e,t,n){var r=e.width(),i=e.height(),s=t/n,o=r/i;if(o>=s){trueSizeWidthImg=r;trueSizeHeightImg=Math.ceil(n*(trueSizeWidthImg/t));gapY=parseInt((trueSizeHeightImg-i)/2);gapX=0}else{trueSizeHeightImg=i;trueSizeWidthImg=Math.ceil(t*(trueSizeHeightImg/n));gapX=parseInt((trueSizeWidthImg-r)/2);gapY=0}return{trueSizeWidthImg:trueSizeWidthImg,trueSizeHeightImg:trueSizeHeightImg,gapX:gapX,gapY:gapY}}function i(e,t){var r=t.width(),i=t.height(),s=n(e,r,i);t.css({width:s.trueSizeWidthImg+"px",height:s.trueSizeHeightImg+"px "});t.css({left:"-"+s.gapX+"px",top:-s.gapY+"px"})}function s(e){var t=r.imgHeight,i=r.imgWidth,s=n(e,i,t);e.css({"background-size":s.trueSizeWidthImg+"px "+s.trueSizeHeightImg+"px"});e.css({"background-position":"-"+s.gapX+"px -"+s.gapY+"px"})}function o(){if(r.fullscreen==1){var n=e(window).height(),o=e(window).width();e(t).css({height:n,width:o})}r.type=="img"&&i(e(t),e(t).children("img"));r.type=="background"&&s(e(t))}var t=this;e(window).load(function(){o()});if(r.smartresize){(function(e,t){var n=function(e,t,n){var r;return function(){function u(){n||e.apply(s,o);r=null}var s=this,o=arguments;r?clearTimeout(r):n&&e.apply(s,o);r=setTimeout(u,t||100)}};jQuery.fn[t]=function(e){return e?this.bind("resize",n(e)):this.trigger(t)}})(jQuery,"smartresize");e(window).smartresize(function(){o()})}else e(window).resize(function(){o()})})}})(jQuery);